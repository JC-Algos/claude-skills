# 2026-02-07 — Daily Log

## Config Fix: Agent Spawn Permissions
- Added `subagents.allowAgents: ["coder", "webdev"]` to main agent in openclaw.json
- Had to edit JSON directly (config.patch didn't work for per-agent subagents)
- `agents_list()` now shows coder + webdev available for spawning

## HSI Forecast Refactoring (Coder)
- Successfully refactored predict.py (~900 lines → 6 modules)
- config.py (42), data.py (83), judges.py (347), range_calc.py (199), formatting.py (171), predict.py (275)
- 22 tests added, all passing
- Committed: `refactor: modularize predict.py into clean module structure`
- Verified: output identical to pre-refactor

## JC Algos Dashboard Project
### Architecture
- **Backend:** Flask API at `/root/clawd/projects/jc-algos-dashboard/backend/app.py`
  - Port 5020, systemd service `dashboard-api`
  - Traefik route: `dashboard.srv1295571.hstgr.cloud`
  - v2: Simple MD file server — serves `data/daily-report.md`
  - Endpoint: `GET /api/daily` returns combined forecast + market report

- **Frontend:** GitHub repo `JC-Algos/jc-algos-dashboard`
  - Dark terminal style, MD renderer
  - Files: dashboard.html, dashboard.js, dashboard.css
  - Jason manually copies files to Hostinger (not auto-deploy)
  - Auth temporarily skipped for testing

### Key Decision: MD-based approach
- Jason wanted TG-message style, NOT dashboard cards
- Oracle writes one `daily-report.md` daily (overwrites same file)
- Combines HSI forecast + cross-market correlation report
- Frontend just fetches and renders MD content
- Sample files in `data/forecast.md`, `data/market-report.md`, `data/daily-report.md`

### Issues Encountered
- WebDev used wrong Supabase project URL — fixed to match JC_Signals.html
- WebDev used wrong table `user_access` — should be `user_profiles`
- GitHub raw cache delayed ~16min — sent files directly via TG
- Jason's Hostinger deploy is manual copy-paste, not auto-deploy from GitHub

## Supabase Config (JC Algos)
- URL: `https://nwhyoravkuyiuewlfgfw.supabase.co`
- Table: `user_profiles` (not `user_access`)
- Auth pattern: any registered user has access (checkUserAccess → user_profiles)
- May need to add `dashboard.html` to Supabase allowed redirect URLs

## Agent Orchestration
- First successful Oracle → Coder + WebDev parallel dispatch
- Coder used Agent Teams for HSI refactor (5m43s)
- WebDev completed frontend in 1m36s (v2 redesign)
- Coder backend took ~10min (added Docker compose entry too)

## Pending
- Jason testing dashboard with latest files
- Need to set up cron for daily-report.md generation
- Auth to be re-enabled after testing
